!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=Array.prototype.slice,n=Array.prototype.splice,r={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1},i=e(window),s=e(document),a=[],u=i.height(),o=function(){for(var t=i.scrollTop(),n=s.height(),r=n-u,o=t>r?r-t:0,c=0,f=a.length;f>c;c++){var p=a[c],l=p.stickyWrapper.offset().top,h=l-p.topSpacing-o;if(p.stickyWrapper.css("height",p.stickyElement.outerHeight()),h>=t)null!==p.currentTop&&(p.stickyElement.css({width:"",position:"",top:""}),p.stickyElement.parent().removeClass(p.className),p.stickyElement.trigger("sticky-end",[p]),p.currentTop=null);else{var d=n-p.stickyElement.outerHeight()-p.topSpacing-p.bottomSpacing-t-o;if(0>d?d+=p.topSpacing:d=p.topSpacing,p.currentTop!==d){var g;p.getWidthFrom?g=e(p.getWidthFrom).width()||null:p.widthFromWrapper&&(g=p.stickyWrapper.width()),null==g&&(g=p.stickyElement.width()),p.stickyElement.css("width",g).css("position","fixed").css("top",d),p.stickyElement.parent().addClass(p.className),null===p.currentTop?p.stickyElement.trigger("sticky-start",[p]):p.stickyElement.trigger("sticky-update",[p]),p.currentTop===p.topSpacing&&p.currentTop>d||null===p.currentTop&&d<p.topSpacing?p.stickyElement.trigger("sticky-bottom-reached",[p]):null!==p.currentTop&&d===p.topSpacing&&p.currentTop<d&&p.stickyElement.trigger("sticky-bottom-unreached",[p]),p.currentTop=d}var y=p.stickyWrapper.parent(),v=p.stickyElement.offset().top+p.stickyElement.outerHeight()>=y.offset().top+y.outerHeight()&&p.stickyElement.offset().top<=p.topSpacing;v?p.stickyElement.css("position","absolute").css("top","").css("bottom",0):p.stickyElement.css("position","fixed").css("top",d).css("bottom","")}}},c=function(){u=i.height();for(var t=0,n=a.length;n>t;t++){var r=a[t],s=null;r.getWidthFrom?r.responsiveWidth&&(s=e(r.getWidthFrom).width()):r.widthFromWrapper&&(s=r.stickyWrapper.width()),null!=s&&r.stickyElement.css("width",s)}},f={init:function(t){var n=e.extend({},r,t);return this.each(function(){var t=e(this),i=t.attr("id"),s=i?i+"-"+r.wrapperClassName:r.wrapperClassName,u=e("<div></div>").attr("id",s).addClass(n.wrapperClassName);t.wrapAll(u);var o=t.parent();n.center&&o.css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===t.css("float")&&t.css({"float":"none"}).parent().css({"float":"right"}),n.stickyElement=t,n.stickyWrapper=o,n.currentTop=null,a.push(n),f.setWrapperHeight(this),f.setupChangeListeners(this)})},setWrapperHeight:function(t){var n=e(t),r=n.parent();r&&r.css("height",n.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var t=new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&f.setWrapperHeight(e)});t.observe(e,{subtree:!0,childList:!0})}else e.addEventListener("DOMNodeInserted",function(){f.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){f.setWrapperHeight(e)},!1)},update:o,unstick:function(t){return this.each(function(){for(var t=this,r=e(t),i=-1,s=a.length;s-->0;)a[s].stickyElement.get(0)===t&&(n.call(a,s,1),i=s);-1!==i&&(r.unwrap(),r.css({width:"",position:"",top:"","float":""}))})}};window.addEventListener?(window.addEventListener("scroll",o,!1),window.addEventListener("resize",c,!1)):window.attachEvent&&(window.attachEvent("onscroll",o),window.attachEvent("onresize",c)),e.fn.sticky=function(n){return f[n]?f[n].apply(this,t.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):f.init.apply(this,arguments)},e.fn.unstick=function(n){return f[n]?f[n].apply(this,t.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):f.unstick.apply(this,arguments)},e(function(){setTimeout(o,0)})});